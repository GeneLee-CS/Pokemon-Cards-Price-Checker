table_name: weekly_top_tcg_cards
description: >
  Weekly aggregated ranking table of top Pokémon cards based on market prices from the Pokémon TCG API. 
  Rankings are computed at the card level by selecting their highest market price across all price types.

columns:
  price_date:
    type: date
    nullable: false
    description: >
      Weekly price date from tcg_price_history.

  card_id:
    type: string
    nullable: false
    description: >
      Deterministic identifier for the Pokémon card from card_master.

  price_variant_id:
    type: bigint
    nullable: false
    description: >
      Deterministic identifier for the card price variant (card_id + price_type).

  price_type:
    type: string
    nullable: false
    description: >
      Price variant type (e.g. holofoil, reverseholofoil, normal).

  market_price:
    type: decimal(10,2)
    nullable: false
    description: >
      Highest market price observed across all price types for the card during the given week.

  rank:
    type: integer
    nullable: false
    description: >
      Global ranking of the card for the given week based on market price.

  ingestion_date:
    type: date
    nullable: false
    description: >
      Date when the data was ingested into the analytics layer.